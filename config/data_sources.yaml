# Data Sources Configuration
# Configure multiple API data sources with their settings

data_sources:
  # Salla E-commerce API
  salla:
    enabled: true
    api_token: ${SALLA_API_TOKEN}
    base_url: ${SALLA_API_BASE_URL}
    batch_size: 100
    max_retries: 3
    retry_delay: 5
    description: "Salla E-commerce Platform API"
    supported_entities:
      - orders
      - customers
      - products
    
  # Example: Shopify API (template for future integration)
  shopify:
    enabled: false
    api_token: ${SHOPIFY_API_TOKEN}
    base_url: ${SHOPIFY_API_BASE_URL}
    batch_size: 250
    max_retries: 3
    retry_delay: 5
    description: "Shopify E-commerce Platform API"
    supported_entities:
      - orders
      - customers
      - products
      - inventory
  
  # Example: WooCommerce API (template for future integration)
  woocommerce:
    enabled: false
    api_token: ${WOOCOMMERCE_API_KEY}
    base_url: ${WOOCOMMERCE_API_BASE_URL}
    batch_size: 100
    max_retries: 3
    retry_delay: 5
    description: "WooCommerce Platform API"
    supported_entities:
      - orders
      - customers
      - products
  
  # Example: Custom REST API (template)
  custom_api:
    enabled: false
    api_token: ${CUSTOM_API_TOKEN}
    base_url: ${CUSTOM_API_BASE_URL}
    batch_size: 100
    max_retries: 3
    retry_delay: 5
    description: "Custom REST API Integration"
    supported_entities:
      - data

# Schema Definitions for Data Validation
schemas:
  orders:
    required_fields:
      - id
      - customer_id
      - status
      - total_amount
      - created_at
    field_types:
      id: int
      customer_id: int
      status: string
      total_amount: float
      created_at: datetime
    non_nullable_fields:
      - id
      - customer_id
      - total_amount
  
  customers:
    required_fields:
      - id
      - email
      - first_name
      - last_name
      - created_at
    field_types:
      id: int
      email: string
      first_name: string
      last_name: string
      created_at: datetime
    non_nullable_fields:
      - id
      - email
  
  products:
    required_fields:
      - id
      - name
      - sku
      - price
      - created_at
    field_types:
      id: int
      name: string
      sku: string
      price: float
      created_at: datetime
    non_nullable_fields:
      - id
      - name
      - price

# Data Quality Rules
data_quality:
  validation_rules:
    - name: no_duplicates
      enabled: true
      severity: high
    - name: no_null_critical_fields
      enabled: true
      severity: critical
    - name: valid_data_types
      enabled: true
      severity: high
    - name: date_range_validation
      enabled: true
      severity: medium
  
  # Dead Letter Queue Configuration
  dlq:
    enabled: true
    max_retry_attempts: 3
    retry_backoff_factor: 2.0
    auto_retry: false
    retention_days: 30

# Dashboard Configuration
dashboard:
  port: 5000
  host: 0.0.0.0
  debug: false
  api_testing_enabled: true
  max_test_records: 1000
